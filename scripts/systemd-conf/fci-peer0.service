# Service definition for Hyperledger fabric peer server of FCI
[Unit]
Description=hyperledger fabric-peer server - Peer for hyperledger fabric
Documentation=https://hyperledger-fabric.readthedocs.io/
Wants=network-online.target
After=network-online.target
[Service]
Type=simple
Restart=on-failure
StandardOutput=append:/home/atri/workspace_hlf/annpurna/scripts/logs/systemd/fabric-fci-peer0-sysout.log
StandardError=append:/home/atri/workspace_hlf/annpurna/scripts/logs/systemd/fabric-fci-peer0-syserr.log
Environment=FABRIC_CFG_PATH=/home/atri/workspace_hlf/annpurna/organizations/fci/conf-local/
Environment=CORE_PEER_MSPCONFIGPATH=/home/atri/workspace_hlf/annpurna/organizations/fci/organization/peerOrganizations/fci.saraswati.gov/peers/peer0.fci.saraswati.gov/msp
Environment=CORE_PEER_LOCALMSPID=FciMSP
Environment=FABRIC_LOGGING_SPEC=DEBUG
Environment=CORE_PEER_TLS_ENABLED=true
Environment=CORE_PEER_PROFILE_ENABLED=true
Environment=FCI_PEER_TLS_DIR=/home/atri/workspace_hlf/annpurna/organizations/fci/organization/peerOrganizations/fci.saraswati.gov/peers/peer0.fci.saraswati.gov/tls/
Environment=CORE_PEER_TLS_CERT_FILE=/home/atri/workspace_hlf/annpurna/organizations/fci/organization/peerOrganizations/fci.saraswati.gov/peers/peer0.fci.saraswati.gov/tls/server.crt
Environment=CORE_PEER_TLS_KEY_FILE=/home/atri/workspace_hlf/annpurna/organizations/fci/organization/peerOrganizations/fci.saraswati.gov/peers/peer0.fci.saraswati.gov/tls/server.key
Environment=CORE_PEER_TLS_ROOTCERT_FILE=/home/atri/workspace_hlf/annpurna/organizations/fci/organization/peerOrganizations/fci.saraswati.gov/peers/peer0.fci.saraswati.gov/tls/ca.crt
Environment=CORE_PEER_ID=peer0.fci.saraswati.gov
Environment=CORE_PEER_ADDRESS=peer0.fci.saraswati.gov:7151
Environment=CORE_PEER_LISTENADDRESS=0.0.0.0:7151
Environment=CORE_PEER_CHAINCODEADDRESS=peer0.fci.saraswati.gov:7152
Environment=CORE_PEER_CHAINCODELISTENADDRESS=0.0.0.0:7152
Environment=CORE_PEER_GOSSIP_BOOTSTRAP=peer0.fci.saraswati.gov:7151
Environment=CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.fci.saraswati.gov:7151

Environment=CORE_LEDGER_STATE_STATEDATABASE=CouchDB
Environment=CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS=127.0.0.1:17184
# The CORE_LEDGER_STATE_COUCHDBCONFIG_USERNAME and CORE_LEDGER_STATE_COUCHDBCONFIG_PASSWORD
# provide the credentials for ledger to connect to CouchDB.  The username and password must
# match the username and password set for the associated CouchDB.
Environment=CORE_LEDGER_STATE_COUCHDBCONFIG_USERNAME=admin
Environment=CORE_LEDGER_STATE_COUCHDBCONFIG_PASSWORD=adminpw
ExecStart=/home/atri/workspace_hlf/annpurna/scripts/fabric-daemons/peer node start
[Install]
WantedBy=multi-user.target
